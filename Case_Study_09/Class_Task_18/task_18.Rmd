---
title: 'Task 18: The US Grocer (KR)'
author: "Etienne Beaulac"
date: "3/7/2018"
output: 
  html_document:
    keep_md: true
---
```{r load, echo=FALSE, message=FALSE, warning=FALSE, eval=TRUE}
library(dplyr)
library(lubridate)
library(tidyquant)
library(dygraphs)
library(DT)

k <- getSymbols("KR", src = "yahoo", from = as.Date("2013-03-01"), to = as.Date("2018-03-07"))
```
## Kroger "KR" not "KG"
So, I made the mistake of putting KG instead of KR, which is Klondike Gold Corp. Not quite Kroger. However, I eventually caught my mistake. At least, the coding was the same.

Here is the datatable
```{r dt, echo=TRUE, message=FALSE, warning=FALSE, eval=TRUE}
datatable(KR)
```

### First dygraph - A view without Volume

I created this dygraph without the Volume, since it ruined the view of the stock prices. 

I decided to go for a candlestick graph. This would not work on a normal graph since the candlesticks are so small, but since this is dygraph and I can have a range selector...
```{r plot1, echo=TRUE, message=FALSE, warning=FALSE, eval=TRUE}
dygraph(KR[, colnames(KR) != 'KR.Volume']) %>%
  dyCandlestick() %>% 
  dyRangeSelector() %>%
  dyLegend(show = "follow")
```

### Second dygraph - Volume

This is where we can start understanding the different spikes in the stock price graph. For example, on June 16 2017 there is a big drop in the price, but a big increase in volume. 

So I asked myself, "What is this volume thing?"

Then, naturally, I asked Google: "the volume is commonly reported as the number of shares that changed hands during a given day"

So, a lot of shares changed hands that day. In fact, that Friday Amazon annouced their merge with WholeFoods.
```{r plot2, echo=TRUE, message=FALSE, warning=FALSE, eval=TRUE}
dygraph(KR$KR.Volume) %>%
  dyRangeSelector() %>%
  dyLegend(show = "follow")
```
